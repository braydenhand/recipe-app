{% extends 'base.html' %} {% block content %} {% if
current_user.is_authenticated: %}

<div class="userProfile">
  <img id="userIcon" src="{{ url_for('static', filename='profile.png') }}" />
  <h1>Username: {{user.name}}</h1>
  <h4>Created on: {{user.timestamp}}</h4>
  {% if user.id == current_user.id %}
  <div class="toolbar">
    <button onclick="populateRecipes()" id="button1">My Recipes</button>
    <button onclick="populateRatings()" id="button2">My Ratings</button>
    <button onclick="populateBookMarks()" id="button3">My Bookmarks</button>
  </div>
  <div class="display">
    <div id="recipes">
      {% for recipe in recipes %} {% include 'recipe_preview_template.html' %}
      {% endfor %}
    </div>

    //need to adjust for user specific ratings
    <div id="ratings">
      {% for rating in ratings %} recipe = {{rating.recipe}} {% include
      'recipe_preview_template.html' %} {% endfor %}
    </div>
    <div id="bookmarks">
      {% for bookmark in bookmarks %} recipe = {{bookmark.recipe}} {% include
      'recipe_preview_template.html' %} {% endfor %}
    </div>
  </div>
  <script>
    populateRecipes();

    function populateRecipes() {

      for (let i = 1; i <= 3; i++) {
        document.getElementById(`button${i}`).classList.remove("active");
      }
      document.getElementById(`button${1}`).classList.add("active");
      
      document.getElementById("recipes").style.display = "block";
      document.getElementById("ratings").style.display = "none";
      document.getElementById("bookomarks").style.display = "none";
    }

    function populateRatings() {
      for (let i = 1; i <= 3; i++) {
        document.getElementById(`button${i}`).classList.remove("active");
      }
      document.getElementById(`button${2}`).classList.add("active");

      document.getElementById("recipes").style.display = "none";
      document.getElementById("ratings").style.display = "block";
      document.getElementById("bookomarks").style.display = "none";
    }
    function populateBookMarks() {
      for (let i = 1; i <= 3; i++) {
        document.getElementById(`button${i}`).classList.remove("active");
      }
      document.getElementById(`button${3}`).classList.add("active");

      document.getElementById("recipes").style.display = "none";
      document.getElementById("ratings").style.display = "none";
      document.getElementById("bookomarks").style.display = "block";
    }
  </script>

  {% else %}
  <div class="toolbar">
    <button onclick="populateRecipes()" id="button1">Recipes</button>
    <button onclick="populateRatings()" id="button2">Ratings</button>
  </div>
  <div class="display">
    <div id="recipes">
      {% for recipe in recipes %} {% include 'recipe_preview_template.html' %}
      {% endfor %}
    </div>

    //need to adjust for user specific ratings
    <div id="ratings">
      {% for rating in ratings %} recipe = {{rating.recipe}} {% include
      'recipe_preview_template.html' %} {% endfor %}
    </div>
  </div>
  <script>
    populateRecipes();

    function populateRecipes() {
      for (let i = 1; i <= 2; i++) {
        document.getElementById(`button${i}`).classList.remove("active");
      }
      document.getElementById(`button${1}`).classList.add("active");
      
      document.getElementById("recipes").style.display = "block";
      document.getElementById("ratings").style.display = "none";
    }

    function populateRatings() {
      for (let i = 1; i <= 2; i++) {
        document.getElementById(`button${i}`).classList.remove("active");
      }
      document.getElementById(`button${2}`).classList.add("active");

      document.getElementById("recipes").style.display = "none";
      document.getElementById("ratings").style.display = "block";
    }
  </script>

  {% endif %} 
</div>
{% endblock %}
